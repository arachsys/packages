require go

check() {
  url https://github.com/filosottile/age/tags
  match version 1.3.1 'tags/v([0-9.]+)\.tar'
}

prepare() {
  unpack age-1.3.1.tar.gz \
    https://github.com/filosottile/age/archive/refs/tags/v1.3.1.tar.gz
  go mod vendor
  tree 64c76abd62feb3d756cb6e9f7c4b566f4263c2dd453f15ea1847a42a9886fd24
}

build() {
  go build -C cmd/age
  go build -C cmd/age-keygen
  install -t /dst/bin -D cmd/age/age cmd/age-keygen/age-keygen
}
