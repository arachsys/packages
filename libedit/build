check() {
  url https://thrysoee.dk/editline/
  match version 20251016-3.1 'libedit-([-0-9.]+)\.tar'
}

prepare() {
  unpack https://thrysoee.dk/editline/libedit-20251016-3.1.tar.gz
  apply config.diff
  apply musl.diff
  tree ae0bfc445c31bfe9621f7320aa22d4c6abad1c09ffe17a42eecadc9d7f5a9da1
}

build() {
  auto-config
  make install DESTDIR=/dst
  rm -f /dst/lib/{include/editline/readline.h,libedit.so}
  echo 'INPUT ( libedit.a libncurses.so )' >/dst/lib/libedit.so
}
