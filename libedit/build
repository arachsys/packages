mode autotools

check() {
  url https://thrysoee.dk/editline/
  match version 20221030-3.1 'libedit-([-0-9.]+)\.tar'
}

prepare() {
  unpack https://thrysoee.dk/editline/libedit-20221030-3.1.tar.gz
  apply config.diff
  tree 7bcaf6d802717cddbbfbd085e13963d14ebb1196e147025a407f7f94620c7214
}

compile-extra CFLAGS='-O2 -D__STDC_ISO_10646__=201103L'

post-install() {
  rm -f /dst/lib/include/editline/readline.h
}
