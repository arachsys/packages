diff --git a/src/chartype.c b/src/chartype.c
index b731d63..81a27a0 100644
--- a/src/chartype.c
+++ b/src/chartype.c
@@ -36,6 +36,7 @@ __RCSID("$NetBSD: chartype.c,v 1.37 2023/08/10 20:38:00 mrg Exp $");
 
 #include <ctype.h>
 #include <limits.h>
+#include <stdint.h>
 #include <stdlib.h>
 #include <string.h>
 
diff --git a/src/chartype.h b/src/chartype.h
index bcdb293..2f16c99 100644
--- a/src/chartype.h
+++ b/src/chartype.h
@@ -39,7 +39,8 @@
 	!(defined(__APPLE__) && defined(__MACH__)) && \
 	!defined(__OpenBSD__) && \
 	!defined(__FreeBSD__) && \
-	!defined(__DragonFly__)
+	!defined(__DragonFly__) && \
+	!defined(__linux__)
 #ifndef __STDC_ISO_10646__
 /* In many places it is assumed that the first 127 code points are ASCII
  * compatible, so ensure wchar_t indeed does ISO 10646 and not some other
