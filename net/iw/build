require bison
require flex

prepare() {
  unpack https://mirrors.edge.kernel.org/pub/software/network/iw/iw-5.4.tar.xz
  unpack -d libnl http://www.infradead.org/~tgr/libnl/files/libnl-3.2.25.tar.gz
  tree 5cc9aa1bd374f607306b41e64c2886e89a9c5bf9c749dd891b5bda2fa7fdec28
}

build() {
  cd libnl
  $SRC/libnl/configure --prefix=$SRC/libs --disable-shared
  make install
  cd $SRC

  make DESTDIR=$DST PREFIX= SBINDIR=/bin MANDIR=/lib/man NO_PKG_CONFIG=1 \
    CFLAGS="-Os ${CFLAGS} -DCONFIG_LIBNL30 -I$SRC/libs/include/libnl3" \
    LIBS="-L$SRC/libs/lib -lnl-genl-3 -lnl-3" install
}
