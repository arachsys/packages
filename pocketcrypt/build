check() {
  url https://api.github.com/repos/arachsys/pocketcrypt/branches/master
  match snapshot 20220503 \
    '"date": *"([0-9]{4})-([0-9]{2})-([0-9]{2})' '\1\2\3'
}

prepare() {
  unpack pocketcrypt-20220503-e09cca2d.tar.gz \
    https://github.com/arachsys/pocketcrypt/archive/e09cca2ddcecf750a3fb2a0f3d5bf35537a64eaa.tar.gz
  tree 55946cf21c590f8b44f8b274f781a422037222afdbb1ca082bc0346015ca4705
}

build() {
  if [[ $CHOST == aarch64-* ]]; then
    make install-static install-tools DESTDIR=/dst INCDIR=/lib/include \
      CFLAGS='-mcpu=native -O3 -Wall -Wfatal-errors'
  else
    make install-static install-tools DESTDIR=/dst INCDIR=/lib/include
  fi
}
