check() {
  url https://api.github.com/repos/arachsys/pocketcrypt/branches/master
  match snapshot 20220421 \
    '"date": *"([0-9]{4})-([0-9]{2})-([0-9]{2})' '\1\2\3'
}

prepare() {
  unpack pocketcrypt-20220421-44abfa12.tar.gz \
    https://github.com/arachsys/pocketcrypt/archive/44abfa12c5ebce13ab9395327db842b74a1c223f.tar.gz
  tree 81ee24ab2cc7afa4afc3479631c4d33cebd2092e703091d0825992f246aa6ee6
}

build() {
  if [[ $CHOST == aarch64-* ]]; then
    make install-static install-tools DESTDIR=/dst INCDIR=/lib/include \
      CFLAGS='-mcpu=native -O3 -Wall -Wfatal-errors'
  else
    make install-static install-tools DESTDIR=/dst INCDIR=/lib/include
  fi
}
