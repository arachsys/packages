check() {
  url https://api.github.com/repos/arachsys/pocketcrypt/branches/master
  match snapshot 20220313 \
    '"date": *"([0-9]{4})-([0-9]{2})-([0-9]{2})' '\1\2\3'
}

prepare() {
  unpack pocketcrypt-20220313-7196adb3.tar.gz \
    https://github.com/arachsys/pocketcrypt/archive/7196adb303458e70fc816612c58b027e0234f3a3.tar.gz
  tree f7f81b984429189f59b5c2e79af35a5c469e8a5d39ee57624afca1d36b3a053a
}

build() {
  if [[ $CHOST == aarch64-* ]]; then
    make install-static install-tools DESTDIR=/dst INCDIR=/lib/include \
      CFLAGS='-mcpu=native -O3 -Wall -Wfatal-errors'
  else
    make install-static install-tools DESTDIR=/dst INCDIR=/lib/include
  fi
}
