require go

check() {
  url https://api.github.com/repos/arachsys/tinyacme/branches/master
  match snapshot 20251201 \
    '"date": *"([0-9]{4})-([0-9]{2})-([0-9]{2})' '\1\2\3'
}

prepare() {
  unpack tinyacme-20251201-eec530fe.tar.gz \
    https://github.com/arachsys/tinyacme/archive/eec530fe.tar.gz
  go mod vendor
  tree 3871f43a04d172627e0cfba3a17ede49508fb6ff2393214d6723412bd20d4e55
}

build() {
  go build acmefront.go
  go build acmeproxy.go
  go build tinyacme.go
  install -D -t /dst/bin acmefront acmeproxy tinyacme
}
