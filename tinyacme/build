require go

check() {
  url https://api.github.com/repos/arachsys/tinyacme/branches/master
  match snapshot 20260117 \
    '"date": *"([0-9]{4})-([0-9]{2})-([0-9]{2})' '\1\2\3'
}

prepare() {
  unpack tinyacme-20260117-2d3c0feb.tar.gz \
    https://github.com/arachsys/tinyacme/archive/2d3c0feb.tar.gz
  go mod vendor
  tree 9ca91cc8bcafb7bc451e4170e25b55db485ee5155703970ee0254d1c0b436452
}

build() {
  go build acmefront.go
  go build acmeproxy.go
  go build tinyacme.go
  install -D -t /dst/bin acmefront acmeproxy tinyacme
}
