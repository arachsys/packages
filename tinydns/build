check() {
  url https://api.github.com/repos/arachsys/tinydns/branches/master
  match snapshot 20240202 \
    '"date": *"([0-9]{4})-([0-9]{2})-([0-9]{2})' '\1\2\3'
}

prepare() {
  unpack tinydns-20240202-e3b587a7.tar.gz \
    https://github.com/arachsys/tinydns/archive/e3b587a7.tar.gz
  tree 0da9be7b6f41cd901021f12dcabc2dd438b76c1592a2a8b6266ddb90337d0dba
}

build() {
  make dnsdata tcpdns udpdns $(enabled static && echo LDFLAGS+=-static)
  install -t /dst/bin -D dnsdata tcpdns udpdns
}
