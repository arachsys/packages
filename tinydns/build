check() {
  url https://api.github.com/repos/arachsys/tinydns/branches/master
  match snapshot 20240205 \
    '"date": *"([0-9]{4})-([0-9]{2})-([0-9]{2})' '\1\2\3'
}

prepare() {
  unpack tinydns-20240205-17c3f460.tar.gz \
    https://github.com/arachsys/tinydns/archive/17c3f460.tar.gz
  tree eb3c7340aa55e8e9cd906893b8f4f4fcf71411f1ec74d9957e0cf5f103252a26
}

build() {
  make dnsdata tcpdns udpdns $(enabled static && echo LDFLAGS+=-static)
  install -t /dst/bin -D dnsdata tcpdns udpdns
}
